{"version":3,"sources":["webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/photo/photo.component.ts","webpack:///./src/app/video/video.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/photo/photo.component.css","webpack:///./src/app/video/video.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/photo/photo.component.html","webpack:///./src/app/video/video.component.html"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 345;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 345\n// module chunks = 1","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { environment } from './environments/environment';\nimport { AppModule } from './app/app.module';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'Ricerca Codice';\n \n\n  constructor(){\n  }\n\n  ngOnInit() {\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { PhotoComponent } from './photo/photo.component';\nimport { VideoComponent } from './video/video.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PhotoComponent,\n    VideoComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit } from '@angular/core';\r\nimport * as Tesseract from 'tesseract.js';\r\n\r\n@Component({\r\n  selector: 'app-photo',\r\n  templateUrl: './photo.component.html',\r\n  styleUrls: ['./photo.component.css']\r\n})\r\nexport class PhotoComponent implements OnInit {\r\n  text = \"Clicca sull'immagine per cominciare\";\r\n  description = \"no description\";\r\n  enableCapture = false;\r\n  log = \"\";\r\n  faces = {};\r\n  faceToPerson = {};\r\n  orizzontale = true;\r\n  rettangolo = { x: (1 - 1 / 1.6) / 2, y: (1 - 1 / 8) / 2, w: 1 / 1.6, h: 1 / 12 };\r\n  bright = 0.5;\r\n  contrast = 0.5;\r\n  first = {};\r\n  C = {};\r\n  IT = {};\r\n  anno = {};\r\n  tre = {};\r\n  nove = {};\r\n\r\n  found = false;\r\n\r\n  constructor() { }\r\n\r\n\r\n  onClick() {\r\n\r\n    this.first = {};\r\n    this.C = {};\r\n    this.IT = {};\r\n    this.anno = {};\r\n    this.tre = {};\r\n    this.nove = {};\r\n    var currentdate = new Date();\r\n    var datetime = \"Last Sync: \" + currentdate.getDate() + \"/\"\r\n      + (currentdate.getMonth() + 1) + \"/\"\r\n      + currentdate.getFullYear() + \" @ \"\r\n      + currentdate.getHours() + \":\"\r\n      + currentdate.getMinutes() + \":\"\r\n      + currentdate.getSeconds();\r\n    console.log(datetime);\r\n    this.found = false;\r\n    this.cercaCodice(\"\");\r\n\r\n  }\r\n\r\n  cercaCodice(chiamante) {\r\n    let component = this;\r\n\r\n    //this.enableCapture = !(this.enableCapture);\r\n    const video = <any>document.getElementsByTagName('video')[0];\r\n    const canvas = <any>document.getElementById('canvas');\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    var context = canvas.getContext('2d');\r\n    //canvas.getContext('2d').drawImage(video, 0, 0);\r\n\r\n    var count = 0;\r\n\r\n    if (component.detectmob()) {\r\n      //var deg = Number(window.orientation);\r\n      context.save();\r\n      context.scale(1, -1);\r\n      context.drawImage(video, 0, 0, canvas.width, -1 * canvas.height);\r\n      context.restore();\r\n\r\n    } else {\r\n      context.drawImage(video, 0, 0);\r\n    }\r\n\r\n    //console.log(size*rapp);\r\n    var image = canvas.toDataURL('image/png');\r\n    const testCanvas = <any>document.getElementById('testCanvas');\r\n    var img = new Image;\r\n    img.src = image;\r\n    img.onload = function () {\r\n      var h = Math.max(50, img.height * component.rettangolo.h);\r\n      var w = Math.max(50, img.width * component.rettangolo.w);\r\n\r\n      testCanvas.width = w;\r\n      testCanvas.height = h;\r\n      testCanvas.getContext('2d').drawImage(img, img.width * component.rettangolo.x, img.height * component.rettangolo.y,\r\n        w, h,\r\n        0, 0, w, h);\r\n      //const size = component.dataURItoBlob(testCanvas.toDataURL('image/jpeg', 1)).size;\r\n      //var rapp = 4194304 / size;\r\n      //rapp=1;\r\n      //this.log += size + \" \" + rapp;\r\n      //rapp = Math.min(rapp, 1);\r\n\r\n      image = testCanvas.toDataURL('image/png');\r\n      var image2 = testCanvas.toDataURL('image/jpg', 1);\r\n\r\n      //component.analyzeImage(image).then(text => {\r\n      if (chiamante == \"tesseract\" || chiamante == \"\") {\r\n        Tesseract.recognize(image).then(result => {\r\n          var text = [result.text.replace(/(\\r\\n|\\n|\\r)/gm, \"\")];\r\n          component.analisiStringa(text, \"tesseract\");\r\n        });\r\n\r\n      }\r\n\r\n      if (chiamante == \"API\" || chiamante == \"\") {\r\n        component.analyzeImage(image2).then(text => {\r\n          component.analisiStringa(text, \"API\");\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  analisiStringa(text, chiamante) {\r\n\r\n    let component = this;\r\n\r\n    const start = \"^.*\";\r\n    const first = \"([A-Z]{3})\";\r\n    const pipe = \"(I|\\\\||l|\\\\\\\\|\\\\/|i|1|J|\\\\[|\\\\]|j|\\\\s\\\\')\";\r\n    const C = \"([A-Z])\";\r\n    const IT = \"([a-zA-Z]{2})\";\r\n    const anno = \"([0-9]{4})\";\r\n    const tre = \"([0-9]{3})\";\r\n    const nove = \"([0-9]{8})\";\r\n    const end = \".*$\";\r\n    const rest = start + first + pipe + C + pipe + IT + pipe + anno + pipe + tre + pipe + nove + end;\r\n    const re = new RegExp(rest);\r\n\r\n    const rest1 = start + first + pipe + C + pipe + IT + end;\r\n    const re1 = new RegExp(rest1);\r\n\r\n    const rest2 = start + C + pipe + IT + pipe + anno + end;\r\n    const re2 = new RegExp(rest2);\r\n\r\n    const rest3 = start + IT + pipe + anno + pipe + tre + end;\r\n    const re3 = new RegExp(rest3);\r\n\r\n    const rest4 = start + anno + pipe + tre + pipe + nove + end;\r\n    const re4 = new RegExp(rest4);\r\n\r\n    console.log(text);\r\n    component.printLog(text[0]);\r\n    //console.log(rest);\r\n    //var re = /^.*([A-Z]{3})(I|\\||l|\\\\|\\/|i|1|J|\\[|\\]|j)(.)(I|\\||l|\\\\|\\/|i|1|J|\\[|\\]|j)(.{2})(I|\\||l|\\\\|\\/|i|1|J|\\[|\\]|j)([0-9]{4})(I|\\||l|\\\\|\\/|i|1|J|\\[|\\]|j)([0-9]{3})(I|\\||l|\\\\|\\/|i|1|J|\\[|\\]|j)([0-9]{8}).*$/;\r\n    var out = re.test(text[0]);\r\n    var out1 = re1.test(text[0]);\r\n    var out2 = re2.test(text[0]);\r\n    var out3 = re3.test(text[0]);\r\n    var out4 = re4.test(text[0]);\r\n    console.log(text + \" \" + out + \" 1:\" + out1 + \" 2:\" + out2 + \" 3:\" + out3 + \" 4:\" + out4);\r\n\r\n    if (out1) {\r\n      let match = re1.exec(text[0]);\r\n      let firstmatch = match[1];\r\n      let Cmatch = match[3];\r\n      let ITmatch = match[5];\r\n      component.addFirst(firstmatch);\r\n      component.addC(Cmatch);\r\n      component.addIT(ITmatch);\r\n    }\r\n    if (out2) {\r\n      let match = re2.exec(text[0]);\r\n      let Cmatch = match[1];\r\n      let ITmatch = match[3];\r\n      let annomatch = match[5];\r\n      if (!out1) {\r\n        component.addC(Cmatch);\r\n        component.addIT(ITmatch);\r\n      }\r\n      component.addAnno(annomatch);\r\n    }\r\n    if (out3) {\r\n      let match = re3.exec(text[0]);\r\n      let ITmatch = match[1];\r\n      let annomatch = match[3];\r\n      let trematch = match[5];\r\n      if (!out2) {\r\n        component.addAnno(annomatch);\r\n        if (!out1) {\r\n          component.addIT(ITmatch);\r\n        }\r\n      }\r\n      component.addTre(trematch);\r\n    }\r\n\r\n    if (out4) {\r\n      let match = re4.exec(text[0]);\r\n      let annomatch = match[1];\r\n      let trematch = match[3];\r\n      let novematch = match[5];\r\n      if (!out3) {\r\n        component.addTre(trematch);\r\n        if (!out2) {\r\n          component.addAnno(annomatch);\r\n        }\r\n      }\r\n      component.addNove(novematch);\r\n    }\r\n\r\n    console.log(component.first, component.C, component.IT, component.anno, component.tre, component.nove);\r\n    if (component.gotIt()) {\r\n      console.log(component.first, component.C, component.IT, component.anno, component.tre, component.nove);\r\n\r\n      var max = Math.max.apply(null, Object.keys(component.first).map(function (x) { return component.first[x] }));\r\n      var maxFirst = (Object.keys(component.first).filter(function (x) { return component.first[x] == max; })[0]);\r\n      let minmax = max;\r\n\r\n      max = Math.max.apply(null, Object.keys(component.C).map(function (x) { return component.C[x] }));\r\n      var maxC = (Object.keys(component.C).filter(function (x) { return component.C[x] == max; })[0]);\r\n      if (max < minmax) {\r\n        minmax = max;\r\n      }\r\n\r\n      max = Math.max.apply(null, Object.keys(component.IT).map(function (x) { return component.IT[x] }));\r\n      var maxIT = (Object.keys(component.IT).filter(function (x) { return component.IT[x] == max; })[0]);\r\n      if (max < minmax) {\r\n        minmax = max;\r\n      }\r\n\r\n      max = Math.max.apply(null, Object.keys(component.anno).map(function (x) { return component.anno[x] }));\r\n      var maxAnno = (Object.keys(component.anno).filter(function (x) { return component.anno[x] == max; })[0]);\r\n      if (max < minmax) {\r\n        minmax = max;\r\n      }\r\n\r\n      max = Math.max.apply(null, Object.keys(component.tre).map(function (x) { return component.tre[x] }));\r\n      var maxTre = (Object.keys(component.tre).filter(function (x) { return component.tre[x] == max; })[0]);\r\n      if (max < minmax) {\r\n        minmax = max;\r\n      }\r\n\r\n      max = Math.max.apply(null, Object.keys(component.nove).map(function (x) { return component.nove[x] }));\r\n      var maxNove = (Object.keys(component.nove).filter(function (x) { return component.nove[x] == max; })[0]);\r\n      if (max < minmax) {\r\n        minmax = max;\r\n      }\r\n\r\n      let nuovo = maxFirst + \"|\" + maxC + \"|\" + maxIT + \"|\" + maxAnno + \"|\" + maxTre + \"|\" + maxNove;\r\n      console.log(nuovo.toUpperCase());\r\n      component.printLog(nuovo.toUpperCase());\r\n      const button = document.getElementsByTagName('button')[0];\r\n      if (minmax < 2) {\r\n        if (chiamante == \"tesseract\") {\r\n          component.cercaCodice(chiamante);\r\n        }\r\n        if (chiamante == \"API\") {\r\n          setTimeout(() => { component.cercaCodice(chiamante); }, 3000);\r\n        }\r\n      } else {\r\n        if (!component.found) {\r\n          var currentdate = new Date();\r\n          var datetime = \"Last Sync: \" + currentdate.getDate() + \"/\"\r\n            + (currentdate.getMonth() + 1) + \"/\"\r\n            + currentdate.getFullYear() + \" @ \"\r\n            + currentdate.getHours() + \":\"\r\n            + currentdate.getMinutes() + \":\"\r\n            + currentdate.getSeconds();\r\n          console.log(datetime);\r\n          component.found = true;\r\n          button.click();\r\n        }\r\n\r\n      }\r\n\r\n\r\n    } else {\r\n      //setTimeout(() => component.cercaCodice(), 3000);\r\n      if (chiamante == \"tesseract\") {\r\n        component.cercaCodice(chiamante);\r\n      }\r\n      if (chiamante == \"API\") {\r\n        setTimeout(() => { component.cercaCodice(chiamante); }, 3000);\r\n      }\r\n    }\r\n\r\n    /* if (out) {\r\n       var nuovo = text[0].replace(re, \"$1|C|IT|$7|$9|$11\");\r\n       console.log(nuovo.toUpperCase());\r\n       component.printLog(nuovo.toUpperCase());\r\n       const button = document.getElementsByTagName('button')[0];\r\n       button.click();\r\n     } else {\r\n       setTimeout(() => component.cercaCodice(), 3000);\r\n     }*/\r\n\r\n  }\r\n\r\n  onResize() {\r\n    const video = <any>document.getElementsByTagName('video')[0];\r\n    const canvas = <any>document.getElementsByName('videoCanvas')[0];\r\n    video.width = parent.innerWidth * 0.8;\r\n    var ratio = video.videoHeight / video.videoWidth;\r\n    video.height = video.width * ratio;\r\n    canvas.height = video.height;\r\n    canvas.width = video.width;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    this.orizzontale = (ratio < 1);\r\n\r\n    ctx.strokeStyle = \"#FF0000\";\r\n\r\n    ctx.strokeRect(video.width * this.rettangolo.x, video.height * this.rettangolo.y,\r\n      video.width * this.rettangolo.w, video.height * this.rettangolo.h);\r\n\r\n    const tCanvas = <any>document.getElementById('testCanvas');\r\n    tCanvas.width = video.videoWidth;\r\n    tCanvas.height = video.videoHeight;\r\n\r\n    var vr = <any>document.getElementById(\"h\");\r\n    var vc = <any>document.getElementById(\"video-container\");\r\n    //console.log(vc);\r\n    vr.setAttribute('style', 'top:' + video.height / 2 + 'px; left:' + video.width * 1.1 + 'px');\r\n\r\n  }\r\n\r\n  analyzeImage(stream) {\r\n    const blob = this.dataURItoBlob(stream);\r\n    var out = \"\";\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.computerVision(blob).then(resp => {\r\n        this.log = \"\";\r\n        const regions = resp['regions'];\r\n        if (regions.length > 0) {\r\n          console.log(regions[0]);\r\n          const r = regions[0].lines;\r\n          var arr = Object.keys(r).map(function (key) { return r[key]; });\r\n          arr.forEach(element => {\r\n            const words = element.words;\r\n            var warr = Object.keys(words).map(function (key) { return words[key]; });\r\n            warr.forEach(w => {\r\n              console.log(w.text);\r\n              this.log += w.text + \"\\n\";\r\n              out += w.text;\r\n            })\r\n\r\n          });\r\n        }\r\n        resolve([out]);\r\n        //this.description = captions[0].text;\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n\r\n  computerVision(blob) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const visionApiUrl = 'https://westus.api.cognitive.microsoft.com/vision/v1.0/ocr?language=unk';\r\n\r\n      var xhrvision = new XMLHttpRequest();\r\n      xhrvision.open('POST', visionApiUrl, true);\r\n      xhrvision.setRequestHeader('content-type', 'application/octet-stream');\r\n      xhrvision.setRequestHeader('Ocp-Apim-Subscription-Key', \"b10fb5b057fe4f9cbeac59dcf0f5727f\");\r\n\r\n      xhrvision.onreadystatechange = function () {\r\n        if (xhrvision.readyState == 4) {\r\n          if (xhrvision.status == 200) {\r\n            //console.log(this);\r\n            var resp = JSON.parse(xhrvision.response);\r\n            //console.log(resp.description.captions[0].text);\r\n            console.log(resp);\r\n            resolve(resp);\r\n          } else {\r\n            console.log(xhrvision.status);\r\n          }\r\n        }\r\n      }\r\n      xhrvision.send(blob);\r\n    })\r\n  }\r\n  dataURItoBlob(dataURI) {\r\n    var byteString = atob(dataURI.split(',')[1]);\r\n    var ab = new ArrayBuffer(byteString.length);\r\n    var ia = new Uint8Array(ab);\r\n    for (var i = 0; i < byteString.length; i++) {\r\n      ia[i] = byteString.charCodeAt(i);\r\n    }\r\n    return new Blob([ab], { type: 'image/jpeg' });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngAfterViewInit() {\r\n    var interval = setInterval(() => {\r\n      this.onResize()\r\n      const video = <any>document.getElementsByTagName('video')[0];\r\n      console.log(\"gira\");\r\n      if (video.height > 0) {\r\n        clearInterval(interval);\r\n        console.log(\"stop\");\r\n      }\r\n    }, 100);\r\n  }\r\n\r\n  videoButtonClick(event) {\r\n    this.clearCanvas();\r\n    console.log(event);\r\n    setTimeout(() => { this.onResize() }, 1000);\r\n    if (event == \"stop\") {\r\n      this.enableCapture = false;\r\n    }\r\n  }\r\n\r\n  clearCanvas() {\r\n    const vCanvas = <any>document.getElementsByName('videoCanvas')[0];\r\n    const ctx = vCanvas.getContext('2d');\r\n    ctx.clearRect(0, 0, vCanvas.width, vCanvas.height);\r\n  }\r\n\r\n\r\n  detectmob() {\r\n    if (navigator.userAgent.match(/Android/i)\r\n      || navigator.userAgent.match(/webOS/i)\r\n      || navigator.userAgent.match(/iPhone/i)\r\n      || navigator.userAgent.match(/iPad/i)\r\n      || navigator.userAgent.match(/iPod/i)\r\n      || navigator.userAgent.match(/BlackBerry/i)\r\n      || navigator.userAgent.match(/Windows Phone/i)\r\n    ) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /*setBright(value) {\r\n    console.log(value);\r\n    this.bright = value;\r\n    this.setVideoFilter();\r\n  }\r\n\r\n  setContrast(value) {\r\n    console.log(value);\r\n    this.contrast = value;\r\n    this.setVideoFilter();\r\n\r\n  }\r\n\r\n  setVideoFilter() {\r\n    const video = <any>document.getElementsByTagName('video')[0];\r\n    video.setAttribute('style', 'filter:contrast(' + this.contrast + ') brightness(' + this.bright + ') grayscale(100%);' +\r\n      ' -webkit-filter:contrast(' + this.contrast + ') brightness(' + this.bright + ') grayscale(100%);' +\r\n      ' -moz-filter:contrast(' + this.contrast + ') brightness(' + this.bright + ') grayscale(100%)');\r\n\r\n\r\n  }*/\r\n  setH(value) {\r\n    this.clearCanvas();\r\n    this.rettangolo.y = (1 - 1 / 12 * value) / 2;\r\n    this.rettangolo.h = 1 / 12 * value;\r\n    this.onResize();\r\n\r\n  }\r\n\r\n  setW(value) {\r\n    this.clearCanvas();\r\n    this.rettangolo.x = (1 - 1 / 1.6 * value) / 2;\r\n    this.rettangolo.w = 1 / 1.6 * value;\r\n    this.onResize();\r\n\r\n  }\r\n\r\n  printLog(text) {\r\n    this.log = text;\r\n  }\r\n\r\n  addLog(text) {\r\n    this.log += text;\r\n  }\r\n\r\n  addFirst(match) {\r\n    this.addMatch(\"first\", match);\r\n  }\r\n  addC(match) {\r\n    //this.addMatch(\"C\", match);\r\n    this.addMatch(\"C\", \"C\");\r\n  }\r\n  addIT(match) {\r\n    //this.addMatch(\"IT\", match.toUpperCase());\r\n    this.addMatch(\"IT\", \"IT\");\r\n  }\r\n  addAnno(match) {\r\n    this.addMatch(\"anno\", match);\r\n  }\r\n  addTre(match) {\r\n    this.addMatch(\"tre\", match);\r\n  }\r\n  addNove(match) {\r\n    this.addMatch(\"nove\", match);\r\n  }\r\n\r\n  addMatch(field, match) {\r\n    if (this[field][match]) {\r\n      this[field][match] = this[field][match] + 1;\r\n    } else {\r\n      this[field][match] = 1;\r\n    }\r\n\r\n  }\r\n\r\n  gotIt() {\r\n    //console.log(Object.getOwnPropertyNames(this.first).length > 0);\r\n    var out = (Object.getOwnPropertyNames(this.first).length > 0) &&\r\n      (Object.getOwnPropertyNames(this.C).length > 0) &&\r\n      (Object.getOwnPropertyNames(this.IT).length > 0) &&\r\n      (Object.getOwnPropertyNames(this.anno).length > 0) &&\r\n      (Object.getOwnPropertyNames(this.tre).length > 0) &&\r\n      (Object.getOwnPropertyNames(this.nove).length > 0);\r\n\r\n    return out;\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/photo/photo.component.ts","import { Component, OnInit, ViewChild, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-video',\r\n  templateUrl: './video.component.html',\r\n  styleUrls: ['./video.component.css']\r\n})\r\n\r\nexport class VideoComponent implements OnInit {\r\n\r\n  @Output() stop: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\r\n  vid;\r\n  localstream;\r\n  bottone = \"Ferma il Video\";\r\n\r\n  constructor() { }\r\n\r\n  selectSource() {\r\n    var videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\r\n    var videoSource = videoSelect.value;\r\n    this.vid = \"\" + (videoSelect.value);\r\n    console.log(\"vid: \" + this.vid);\r\n    //var constraints  = { video: { deviceId: { exact: videoSource } } };\r\n    var constraints = { video: { deviceId: videoSource } };\r\n    this.stopStream();\r\n    setTimeout(this.startStream(constraints), 150);\r\n  }\r\n\r\n  @ViewChild('video') video: any;\r\n  // note that \"#video\" is the name of the template variable in the video element\r\n\r\n  ngAfterViewInit() {\r\n    var constraints = { video: true };\r\n    //FIXME\r\n    //var videoSource = this.videoSelect.value;\r\n    //var constraints = { video: { deviceId: { exact: videoSource } } }\r\n    this.startStream(constraints);\r\n  }\r\n\r\n  onClick() {\r\n    let _video = this.video.nativeElement;\r\n    var videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\r\n    var videoSource = videoSelect.value;\r\n    console.log(videoSource);\r\n    var constraints = { video: { deviceId: { exact: videoSource } } };\r\n    if (!_video.paused) {\r\n      this.stopStream();\r\n      this.bottone = \"Avvia il Video\";\r\n      this.stop.emit(\"stop\");\r\n    } else {\r\n      this.startStream(constraints);\r\n      this.bottone = \"Ferma il Video\";\r\n      this.stop.emit(\"start\");\r\n    }\r\n  }\r\n\r\n  startStream(constraints) {\r\n    let _video = this.video.nativeElement;\r\n    /*let nav = <any>navigator;\r\n    nav.getUserMedia = nav.getUserMedia || nav.mozGetUserMedia || nav.webkit.GetUserMedia;*/\r\n    //if(navigator.mozGetUserMedia)\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices.getUserMedia(constraints)\r\n        .then(stream => {\r\n          _video.src = window.URL.createObjectURL(stream);\r\n          console.log(_video.src);\r\n          this.localstream = stream;\r\n          _video.load();          \r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  stopStream() {\r\n    let _video = this.video.nativeElement;\r\n    //console.log(this.localstream);\r\n    if (!_video.paused) {\r\n      console.log(\"not paused\");\r\n      _video.pause();\r\n      _video.src = \"\";\r\n      this.localstream.getTracks().forEach((track) => {\r\n        track.stop();\r\n      });\r\n    }\r\n    console.log(\"Video off\");\r\n  }\r\n\r\n\r\n  enumerate() {\r\n    navigator.mediaDevices.enumerateDevices()\r\n      .then(gotDevices)\r\n      .catch(errorCallback);\r\n    var videoSelect = (<HTMLSelectElement>document.getElementsByName(\"videoSelect\")[0]);\r\n\r\n    function gotDevices(deviceInfos) {\r\n      for (var i = 0; i !== deviceInfos.length; ++i) {\r\n        var deviceInfo = deviceInfos[i];\r\n        var option = document.createElement('option');\r\n        option.value = deviceInfo.deviceId;\r\n        if (deviceInfo.kind === 'videoinput') {\r\n          option.text = deviceInfo.label || 'Camera ' +\r\n            (videoSelect.length + 1);\r\n          videoSelect.appendChild(option);\r\n        }\r\n      }\r\n    }\r\n\r\n    function errorCallback(error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.enumerate();\r\n    /*    this.enumerate();*/\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/video/video.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 612\n// module chunks = 1","module.exports = \".videoCanvas {\\r\\n  position: absolute;\\r\\n  z-index: 10;\\r\\n}\\r\\n\\r\\n.vertical-range{\\r\\n  -webkit-transform:rotate(90deg);\\r\\n  position: absolute;\\r\\n  z-index: 10;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/photo/photo.component.css\n// module id = 613\n// module chunks = 1","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/video/video.component.css\n// module id = 614\n// module chunks = 1","module.exports = \"<h1>\\n  {{title}}\\n</h1>\\n<app-photo></app-photo>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 615\n// module chunks = 1","module.exports = \"<h1 id=\\\"text\\\">{{text}}</h1>\\r\\n<div (window:resize)=\\\"onResize()\\\"  (document:load)=\\\"onResize()\\\" id=\\\"video-container\\\">\\r\\n    <canvas id=\\\"videoCanvas\\\" name=\\\"videoCanvas\\\" class=\\\"videoCanvas\\\" (click)=\\\"onClick()\\\"></canvas>\\r\\n    <app-video id=\\\"videocomponent\\\" (stop)=\\\"videoButtonClick($event)\\\"></app-video>\\r\\n</div>\\r\\n<canvas name=\\\"canvas\\\" id=\\\"canvas\\\" style=\\\"display:none;\\\"></canvas>\\r\\n<!--<button id=\\\"take\\\" (click)=\\\"onClick()\\\">Take a photo</button><br />-->\\r\\n<!--<input type=\\\"range\\\" [ngModel]=\\\"range\\\" min=\\\"0\\\" max=\\\"5\\\" step=\\\".01\\\" (ngModelChange)=\\\"setBright($event)\\\">\\r\\n<input type=\\\"range\\\" [ngModel]=\\\"range\\\" min=\\\"0\\\" max=\\\"5\\\" step=\\\".01\\\" (ngModelChange)=\\\"setContrast($event)\\\">-->\\r\\n<input id=\\\"h\\\" type=\\\"range\\\" class=\\\"vertical-range\\\" [ngModel]=\\\"range\\\" min=\\\"0\\\" max=\\\"12\\\" step=\\\".01\\\" value=\\\"1\\\" (ngModelChange)=\\\"setH($event)\\\">\\r\\n<input type=\\\"range\\\" [ngModel]=\\\"range\\\" min=\\\"0\\\" max=\\\"1.6\\\" step=\\\".01\\\" value= \\\"1.2\\\" (ngModelChange)=\\\"setW($event)\\\">\\r\\n<p name=\\\"description\\\">{{description}}</p>\\r\\n<p>{{log}}</p>\\r\\n<canvas id=\\\"testCanvas\\\"></canvas>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/photo/photo.component.html\n// module id = 616\n// module chunks = 1","module.exports = \"<video  #video width=\\\"640\\\" height=\\\"480\\\" autoplay></video>\\r\\n<br>\\r\\n<select name=\\\"videoSelect\\\"  [ngModel]=\\\"selectedDevice\\\" (ngModelChange)=\\\"selectSource()\\\"></select>\\r\\n<button name=\\\"bottone\\\" (click) = \\\"onClick()\\\">{{bottone}}</button>\\r\\n<!--<p>{{vid}}</p>-->\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/video/video.component.html\n// module id = 617\n// module chunks = 1"],"sourceRoot":""}